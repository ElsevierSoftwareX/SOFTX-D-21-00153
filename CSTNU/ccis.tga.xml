<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'flat-1_1.dtd'>
<nta>
	<declaration>
		<!--
			Global clocks:
			// global = global clock, initially zero, never reset
			// delta = clock used to ensure transition from ENV to CTRL happens only
			after non-zero delay
			// cA, cB, ..., cH - one clock for each time-point in the CSTNU.
			// Each is reset to zero when its corresponding time-point executes.

			clock delta, global;
			clock cA, cB, cC, cD, cE, cF, cG, cH;

			// Booleans that become true when corresponding time-point executes
			// xA = true when time-point A executes, xB = true when time-point B executes,
			etc.

			bool xA = false, xB = false, xC = false, xD = false, xE = false, xF =
			false,
			xG = false, xH = false;

			// Booleans that represent the outcomes of observation nodes
			// In this example, there are only two observation nodes: A and B
			// Note: These values only have meaning if their corresponding observation
			node
			// has already been executed. For example, if xA = true, then pA has the
			// value of the observation proposition. Similarly for B.
		-->
		bool pA, pB;
</declaration>
	<template>
		<name x="5" y="5">main</name>
		<declaration />
		<location id="id0" x="-264" y="-224">
			<name x="-274" y="-254">go</name>
			<urgent />
		</location>
		<location id="id1" x="-472" y="24">
			<name x="-482" y="-6">obsB</name>
			<urgent />
		</location>
		<location id="id2" x="-472" y="-112">
			<name x="-482" y="-142">obsA</name>
			<urgent />
		</location>
		<location id="id3" x="144" y="-208">
			<name x="160" y="-216">success</name>
		</location>
		<location id="id4" x="120" y="-72">
			<name x="110" y="-102">env</name>
		</location>
		<location id="id5" x="-184" y="-72">
			<name x="-194" y="-102">ctrl</name>
			<urgent />
		</location>
		<init ref="id4" />
		<transition controllable="false" action="">
			<source ref="id0" />
			<target ref="id3" />
			<label kind="guard" x="-184" y="-256">!pA and pB and 2 &lt;= cA-cE and cA-cE &lt;= 4 and 10 &lt;= cB-cF and cB-cF &lt;= 32</label>
		</transition>
		<transition controllable="false" action="">
			<source ref="id0" />
			<target ref="id3" />
			<label kind="guard" x="-232" y="-416">pA and pB and 16 &lt;= cB-cD and cB-cD &lt;= 30 and cA-cC == 5</label>
			<nail x="-256" y="-392" />
			<nail x="280" y="-392" />
			<nail x="280" y="-312" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id0" />
			<target ref="id3" />
			<label kind="guard" x="-160" y="-328">!pB and 1 &lt;= cA-cG and cA-cG &lt;= 10</label>
			<nail x="-256" y="-232" />
			<nail x="-200" y="-312" />
			<nail x="208" y="-312" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id0" />
			<label kind="guard" x="-536" y="-176">xA and xB and 2 &lt;= cB-cA and cB-cA &lt;= 11</label>
		</transition>
		<transition controllable="false" action="">
			<source ref="id4" />
			<target ref="id3" />
			<label kind="guard" x="-48" y="-176">xG and !xH and cG &gt; 5</label>
			<nail x="72" y="-104" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id4" />
			<target ref="id3" />
			<label kind="guard" x="-48" y="-152">xE and !xF and cE &gt; 10</label>
			<nail x="96" y="-112" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id5" />
			<label kind="guard" x="-96" y="0">!xG and xB and !pB</label>
			<label kind="assignment" x="-96" y="16">cG := 0, xG := true</label>
			<nail x="-104" y="40" />
			<nail x="-104" y="0" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id5" />
			<label kind="guard" x="-80" y="112">!xE and xA and !pA and xB and pB</label>
			<label kind="assignment" x="-80" y="128">cE := 0, xE := true</label>
			<nail x="-88" y="144" />
			<nail x="-88" y="88" />
		</transition>
		<transition action="">
			<source ref="id1" />
			<target ref="id5" />
			<label kind="assignment" x="-376" y="104">pB := false</label>
			<nail x="-448" y="112" />
			<nail x="-240" y="88" />
			<nail x="-208" y="64" />
		</transition>
		<transition action="">
			<source ref="id1" />
			<target ref="id5" />
			<label kind="assignment" x="-400" y="48">pB := true</label>
			<nail x="-440" y="80" />
			<nail x="-248" y="56" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id1" />
			<label kind="guard" x="-392" y="-8">!xB</label>
			<label kind="assignment" x="-400" y="16">cB := 0, xB := true</label>
			<nail x="-332" y="8" />
		</transition>
		<transition action="">
			<source ref="id2" />
			<target ref="id5" />
			<label kind="assignment" x="-392" y="-48">pA := false</label>
			<nail x="-424" y="-48" />
			<nail x="-264" y="-48" />
		</transition>
		<transition action="">
			<source ref="id2" />
			<target ref="id5" />
			<label kind="assignment" x="-392" y="-72">pA := true</label>
			<nail x="-424" y="-72" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id2" />
			<label kind="guard" x="-392" y="-136">!xA</label>
			<label kind="assignment" x="-400" y="-120">cA := 0, xA := true</label>
		</transition>
		<transition action="">
			<source ref="id4" />
			<target ref="id4" />
			<label kind="guard" x="232" y="-40">xE and !xF and cE &gt;= 8 and cE &lt;= 10</label>
			<label kind="assignment" x="232" y="-24">cF := 0, xF := true, delta	:= 0</label>
			<nail x="224" y="24" />
			<nail x="224" y="-64" />
		</transition>
		<transition action="">
			<source ref="id4" />
			<target ref="id4" />
			<label kind="guard" x="72" y="64">xC and !xD and cC	&gt;= 10 and cC &lt;= 20</label>
			<label kind="assignment" x="88" y="80">cD := 0, xD := true, delta := 0</label>
			<nail x="120" y="56" />
			<nail x="200" y="56" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id4" />
			<target ref="id3" />
			<label kind="guard" x="136" y="-160">xC and !xD and cC &gt; 20</label>
		</transition>
		<transition action="">
			<source ref="id4" />
			<target ref="id4" />
			<label kind="guard" x="224" y="-128">xG and !xH and cG &gt;= 4 and cG &lt;= 5</label>
			<label kind="assignment" x="224" y="-112">cH := 0, xH := true, delta := 0</label>
			<nail x="216" y="-136" />
			<nail x="216" y="-88" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id4" />
			<target ref="id5" />
			<label kind="guard" x="-56" y="-48">delta &gt; 0</label>
			<nail x="88" y="-48" />
			<nail x="-112" y="-48" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id5" />
			<label kind="guard" x="-96" y="160">!xC and xA and pA and xB and pB</label>
			<label kind="assignment" x="-96" y="176">cC := 0, xC := true</label>
			<nail x="-104" y="144" />
			<nail x="-104" y="200" />
		</transition>
		<transition controllable="false" action="">
			<source ref="id5" />
			<target ref="id4" />
			<label kind="assignment" x="-64" y="-96">delta := 0</label>
		</transition>
	</template>
	<system>Pmain = main();
		system Pmain;
		</system>
</nta>