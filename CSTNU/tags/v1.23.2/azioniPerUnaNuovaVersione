Azioni per rilasciare una nuova versione di CSTNU
=================================================

1) Aggiornare con il nuovo numero pom.xml

2) Compilare il progetto
------------------------
	* mvn clean //Fundamental!!! Before to do anything regarding site
	* mvn compile //for compiling
	* mvn test //for executing JUNIT4 test
	* mvn package //for preparing the jar package	

2) Aggiornare le informazioni del sito
--------------------------------------

- Aggiornare file ./CstnuTool/RELEASE_NOTES
- Poi, si compila
	* mvn site //for building site without deploy
	* mvn site-deploy //for building site and deploying it on profs.sci.univr.it.
   Before a 'mvn site-deploy', make a 'mvn clean && mvn package'.
- Verificare che in http://profs.scienze.univr.it/~posenato/software/cstnu tutto è ok.

3) Fare i commit di tutti i file modificati.


Azioni per un tag
================
Se si vuole salvare una particolare versione del repository con un tag, dare il comando
svn copy https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/trunk \
		https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/tags/<versione> -m<commento>

dove <versione> ho messo solitamente il numero di versione rilasciato al pubblico
Esempi di versioni già usati:
v1.9.0
v1.10.0
v1.21.0

Azioni per un branch
====================
1) Creare il branch stando nella directory trunk

svn copy . https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/branches/<nome branch> -m'New branch'

2) Fare il checkout del branch su una nuova dir

svn co https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/branches/<nome branch>


3) Lavorare...
Se si vuole importare nel branch modifiche fatte nel trunk

3.0 fare i commit nel trunk
3.1 andare nella working dir del branch
3.2 fare i commit
3.3 fare il merge del trunk

svn merge https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/trunk

4) Quando si vuole riportare il tutto nel trunk per sempre

4.0 fare i commit nel branch
4.1 andare nella working dir del trunk
4.2 fare il merge finale

svn merge --reintegrate https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/branches/<nome branch>

Il manuale consiglia poi di cancellare il branch nel repository perché non più usabile.
La storia si può sempre recuperare facendo svn log ../branches/<nome branch>

svn delete https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/branches/<nome branch> \
             -m "Remove <nome branch>, reintegrated with trunk."

Se si vuole riaprire subito un branch per continuare (anche rimanendo nella medesima working directory del branch precedente), dare il comando
svn copy  https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/trunk \
           https://profs.scienze.univr.it/posenato/svn/sw/CSTNU/branches/<nome new branch> \
           -m "Recreate <nome new branch> from trunk@HEAD."

5) MODO alternativo di fare il merge VERSO IL TRUNK e tenere ancora vivo il branch

5.1 Fare i punti 4.0, 4.1. e 4.2. Supponiamo che il merge finale abbia dato release number 391
5.2 Andare nella working dir del branch
5.3 svn update
5.4 svn merge --record-only -c 391 ^/CSTNU/trunk
